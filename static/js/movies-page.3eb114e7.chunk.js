(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4],{40:function(e,t,n){"use strict";var r=n(41),a=n.n(r);a.a.defaults.baseURL="https://api.themoviedb.org/3/";var c="?api_key=a74414b944f8b513109b376ad415325e",i={fetchMovies:function(){return a.a.get("trending/movie/day".concat(c))},fetchSearch:function(e){var t=e.searchQuery,n=void 0===t?"":t;return a.a.get("search/movie".concat(c,"&language=en-US&include_adult=false&query=").concat(n))},fetchMovie:function(e){return a.a.get("movie/".concat(e,"images").concat(c,"&language=en-US"))}};t.a=i},42:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return c}))},43:function(e,t,n){e.exports={list:"MovieList_list__TGrWS",links:"MovieList_links__1Uk__",listEl:"MovieList_listEl__eCcLE"}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var r=n(9),a=n(2),c=n(43),i=n.n(c),o=n(1),s=Object(a.f)((function(e){var t=e.movies,n=e.location;return Object(o.jsx)("ul",{className:i.a.list,children:t.map((function(e){return Object(o.jsx)("li",{className:i.a.listEl,children:Object(o.jsx)(r.b,{className:i.a.links,to:{pathname:"/movies/".concat(e.id),state:{from:n}},children:e.name||e.title})},e.id)}))})}))},72:function(e,t,n){e.exports={button:"Searchbar_button__2-i71"}},77:function(e,t,n){"use strict";n.r(t);var r=n(38),a=n.n(r),c=n(39),i=n(42),o=n(34),s=n(35),u=n(37),l=n(36),h=n(0),f=n(40),b=n(72),p=n.n(b),v=n(1),y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)("button",{type:"submit",className:p.a.button,children:"Search"}),Object(v.jsx)("input",{type:"text",autoComplete:"off",value:this.state.query,onChange:this.handleChange,autoFocus:!0,placeholder:"Search movies"})]})}}]),n}(h.Component),j=n(44),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={movies:[],searchQuery:""},e.onChangeQuery=function(t){e.setState({searchQuery:t}),e.props.history.push(Object(i.a)(Object(i.a)({},e.props.location),{},{search:"?query=".concat(t)}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location,t=e.search;e.pathname&&t&&this.setState({searchQuery:t.slice(7)})}},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.searchQuery===this.state.searchQuery){e.next=7;break}return r=this.state.searchQuery,e.next=4,f.a.fetchSearch({searchQuery:r});case 4:c=e.sent,i=c.data.results,this.setState({movies:i});case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y,{onSubmit:this.onChangeQuery}),e&&Object(v.jsx)(j.a,{movies:e})]})}}]),n}(h.Component);t.default=m}}]);
//# sourceMappingURL=movies-page.3eb114e7.chunk.js.map